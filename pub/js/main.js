"use strict";var url="https://gsamuelsson.se/projektAPI/webservice.php",coursesurl=url+"/courses",jobsurl=url+"/jobs",projectsurl=url+"/projects";function loadCourseList(){fetch(coursesurl).then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="<tr>\n                  <td>".concat(e.name,"</td>\n                  <td>").concat(e.school,"</td>\n                  <td>").concat(e.program,"</td>\n                  <td>").concat(e.points,"</td>\n                  <td>").concat(e.startyear," - ").concat(e.endyear,'</td>\n                  <td class="center"><a onclick="editCourse(event)" title=\'Redigera ').concat(e.name,"' target='_blank'><i id=\"").concat(e.id,'" class="fas fa-cog"></i></a> / <a class="delete" onclick="deleteCourse(event)"  title=\'Ta bort  ').concat(e.name,"' target='_blank'> <i id=\"").concat(e.id,'" class="fas fa-trash-alt"></i></a></td>\n              </tr>')}),document.getElementById("courseList").innerHTML=t})}function addCourse(){var e=document.getElementById("school").value,t=document.getElementById("name").value,n=document.getElementById("startyear").value,o=document.getElementById("endyear").value,a=document.getElementById("points").value,l=document.getElementById("program").value,i=JSON.stringify({school:e,name:t,startyear:n,endyear:o,points:a,program:l});fetch(coursesurl,{method:"POST",mode:"cors",body:i}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editCourse(e){document.getElementById("modalspace");var t=document.getElementById("myModal"),n=document.getElementById("innermodal");t.style.display="flex";var o=e.target.id;console.log(o),document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")},fetch(coursesurl+"/"+o).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){var t=e.name,o=e.program,a=e.school,l=e.startyear,i=e.endyear,d=e.points;n.innerHTML='<section>\n    <h2><i class="fa fa-cog"></i> Ändra kurs</h2>\n  \n   \n    <label >\n        Kursnamn: <br>\n        <input type="text" name="nameedit" id="nameedit" value="'.concat(t,'" required/>\n    </label>\n     <label>\n        Skola: <br>\n        <input type="text" name="schooledit" id="schooledit" value="').concat(a,'" required/>\n    </label>\n    <label>\n        Poäng: <br>\n        <input type="text" name="pointsedit" id="pointsedit" value="').concat(d,'" required/>\n    </label>\n    <label >\n        Program (eller fristående): <br>\n        <input type="text" name="programedit" id="programedit" value="').concat(o,'" required/>\n    </label>\n    <label>\n    Startår: <br>\n    <input type="text" name="startedit" id="startedit" value="').concat(l,'" required/>\n</label>\n<label >\n    Slutår (eller pågående): <br>\n    <input type="text" name="endedit" id="endedit" value="').concat(i,'" required/>\n</label>\n    <input type="submit" value="Ändra" onclick="editCourses(').concat(e.id,')"  id="editbutton" class="btn btn-blue">\n</section>')})})}function deleteCourse(e){var t=e.target.id,n=coursesurl+"/"+t;console.log(n),fetch(n,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editCourses(e){console.log(e);var t=document.getElementById("startedit").value,n=document.getElementById("nameedit").value,o=document.getElementById("endedit").value,a=document.getElementById("programedit").value,l=document.getElementById("schooledit").value,i=document.getElementById("pointsedit").value,d=JSON.stringify({startyear:t,name:n,endyear:o,program:a,school:l,points:i,id:e});console.log(d),fetch(coursesurl,{method:"PUT",body:d}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function loadJobList(){fetch(jobsurl).then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="<tr>\n                  <td>".concat(e.title,"</td>\n                  <td>").concat(e.place,"</td>\n                \n                  <td>").concat(e.startyear," - ").concat(e.endyear,'</td>\n                  <td class="center"><a onclick="editJob(event)" title=\'Redigera ').concat(e.title,"' target='_blank'><i id=\"").concat(e.id,'" class="fas fa-cog"></i></a> / <a class="delete" onclick="deleteJob(event)"  title=\'Ta bort  ').concat(e.title,"' target='_blank'> <i id=\"").concat(e.id,'" class="fas fa-trash-alt"></i></a></td>\n              </tr>')}),document.getElementById("courseList").innerHTML=t})}function addJob(){var e=document.getElementById("title").value,t=document.getElementById("place").value,n=document.getElementById("startyear").value,o=document.getElementById("endyear").value,a=JSON.stringify({title:e,place:t,startyear:n,endyear:o});fetch(jobsurl,{method:"POST",mode:"cors",body:a}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editJob(e){document.getElementById("modalspace");var t=document.getElementById("myModal"),n=document.getElementById("innermodal");t.style.display="flex";var o=e.target.id;document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")},fetch(jobsurl+"/"+o).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){var t=e.title,o=e.place,a=e.startyear,l=e.endyear;n.innerHTML='<section>\n    <h2><i class="fa fa-cog"></i> Ändra jobb</h2>\n  \n   \n    <label >\n        Jobbtitel: <br>\n        <input type="text" name="titleedit" id="titleedit" value="'.concat(t,'" required/>\n    </label>\n     <label>\n        Arbetsplats: <br>\n        <input type="text" name="placeedit" id="placeedit" value="').concat(o,'" required/>\n    </label>\n    <label>\n        Startår: <br>\n        <input type="text" name="startedit" id="startedit" value="').concat(a,'" required/>\n    </label>\n    <label >\n        Kursplan: <br>\n        <input type="text" name="endedit" id="endedit" value="').concat(l,'" required/>\n    </label>\n    <input type="submit" value="Ändra" onclick="editJobs(').concat(e.id,')"  id="editbutton" class="btn btn-blue">\n</section>')})})}function deleteJob(e){var t=e.target.id,n=jobsurl+"/"+t;console.log(n),fetch(n,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editJobs(e){var t=document.getElementById("titleedit").value,n=document.getElementById("placeedit").value,o=document.getElementById("startedit").value,a=document.getElementById("endedit").value,l=JSON.stringify({title:t,place:n,startyear:o,endyear:a,id:e});console.log(l),fetch(jobsurl,{method:"PUT",mode:"cors",body:l}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function loadProjectList(){fetch(projectsurl).then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="<tr>\n                    <td>".concat(e.title,"</td>\n                    <td>").concat(e.description,"</td>\n                    <td>").concat(e.url,"</td>\n                    <td>").concat(e.keywords,"</td>\n                    <td>").concat(e.img,"</td>\n                    <td>").concat(e.imgmobile,'</td>\n                  \n                    <td class="center"><a onclick="editProject(event)" title=\'Redigera ').concat(e.title,"' target='_blank'><i id=\"").concat(e.id,'" class="fas fa-cog"></i></a> / <a class="delete" onclick="deleteProject(event)"  title=\'Ta bort  ').concat(e.title,"' target='_blank'> <i id=\"").concat(e.id,'" class="fas fa-trash-alt"></i></a></td>\n                </tr>')}),document.getElementById("courseList").innerHTML=t})}function addProject(){var e=document.getElementById("title").value,t=document.getElementById("description").value,n=document.getElementById("urlweb").value,o=document.getElementById("img").value,a=document.getElementById("imgmobile").value,l=document.getElementById("keywords").value,i=JSON.stringify({title:e,description:t,url:n,img:o,imgmobile:a,keywords:l});fetch(projectsurl,{method:"POST",mode:"cors",body:i}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editProject(e){document.getElementById("modalspace");var t=document.getElementById("myModal"),n=document.getElementById("innermodal");t.style.display="flex";var o=e.target.id;document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")},fetch(projectsurl+"/"+o).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){var t=e.title,o=e.description,a=e.url,l=e.img,i=e.imgmobile,d=e.keywords;n.innerHTML='<section>\n      <h2><i class="fa fa-cog"></i> Ändra kurs</h2>\n    \n     \n      <label >\n          Titel: <br>\n          <input type="text" name="titleedit" id="titleedit" value="'.concat(t,'" required/>\n      </label>\n       <label>\n          Kurskod: <br>\n          <input type="text" name="descriptionedit" id="descriptionedit" value="').concat(o,'" required/>\n      </label>\n\n      <label >\n         URL: <br>\n          <input type="text" name="urlwebedit" id="urlwebedit" value="').concat(a,'" required/>\n      </label>\n      <label >\n      Keywords: <br>\n       <input type="text" name="keywordsedit" id="keywordsedit" value="').concat(d,'" required/>\n   </label>\n   <label >\n   Bild: <br>\n    <input type="text" name="imgedit" id="imgedit" value="').concat(l,'" required/>\n</label>\n<label >\nKeywords: <br>\n <input type="text" name="imgmobileendedit" id="imgmobileedit" value="').concat(i,'" required/>\n</label>\n      <input type="submit" value="Ändra" onclick="editProjects(').concat(e.id,')"  id="editbutton" class="btn btn-blue">\n  </section>')})})}function deleteProject(e){var t=e.target.id,n=projectsurl+"/"+t;console.log(n),fetch(n,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}function editProjects(e){var t=document.getElementById("titleedit").value,n=document.getElementById("descriptionedit").value,o=document.getElementById("urlwebedit").value,a=document.getElementById("keywordsedit").value,l=document.getElementById("imgedit").value,i=document.getElementById("imgmobileedit").value,d=JSON.stringify({title:t,description:n,url:o,keywords:a,img:l,imgmobile:i,id:e});fetch(projectsurl,{method:"PUT",mode:"cors",body:d}).then(function(e){return e.json()}).then(function(e){return location.reload(!0)})}
//# sourceMappingURL=main.js.map
